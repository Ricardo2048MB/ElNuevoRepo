INCLUDE MACROS.TXT

	E_SUPERIOR_IZQUIERDA 	EQU 0C9H
	E_SUPERIOR_DERECHA 		EQU 0BBH
	E_INFERIOR_IZQUIERDA	EQU 0C8H
	E_INFERIOR_DERECHA 		EQU 0BCH

.MODEL SMALL
.STACK
.DATA
	;VARIABLES
	PUBLIC CONT 
	CONT DB 0
	RESULTADO DW 0 
	ELECCION DB 0

	;STRINGS
	UNITEC DB 10, "UNIVERSIDAD TECNOLOGICA DE MEXICO$"; 10 (SALTO DE LINEA) 13 (RETORNO DE CARRO)
	ARQ DB 10, "ARQUITECTURA Y PROGRAMACION DE COMPUTADORAS", "$"
	TABLA DB 10, "TABLA DE CONVERSIONES", "$"
	DIGITE DB 10, "DIGITE UN NUMERO (HASTA 4 DIGITOS): _____", "$"
	DECIMAL DB 10, "DECIMAL", "$"
	BINARIO DB 10, "BINARIO ", "$"
	HEXA DB 10, "HEXADECIMAL ", "$"
	OCTAL DB 10, "OCTAL", "$" 
	OTRO DB 10, "DESEA OTRO CALCULO (S)? (DIGITE X PARA SALIR): ____", "$"	

.CODE
	;PROCEDIMIENTOS EXTERNOS
	EXTRN IMPRIME_CARACTER:PROC
	EXTRN SALTO_DE_LINEA:PROC
	EXTRN LINEAS_PRINCIPALES:PROC
	EXTRN IMPRIME_MENSAJE:PROC
	EXTRN LINEA_HORIZONTAL:PROC
	EXTRN LINEA_HORIZONTAL2:PROC
	EXTRN LINEA_VERTICAL:PROC
	EXTRN LINEA_DELGADA:PROC
	EXTRN LEE_4_DECIMALES:PROC
	EXTRN IMPRIME_DECIMAL:PROC
	EXTRN LINEA_VERTICAL4:PROC
	EXTRN LEE_CARACTER_DECIMAL:PROC

	
MAIN PROC
;LIMPIA LA PANTALLA
	LIMPIA
;COFIGURACIONES INICIALES
	MOV AX, DGROUP
	MOV DS,AX
	XOR DX,DX
 
;DESPLIEGA BARRA NEGRITA Y BARRITA DELGADA 
	POSICION 01H, 00H
	CALL LINEAS_PRINCIPALES
;IMRPIME TEXTO UNITEC
	POSICION 02H,23 ;TEXTO CENTRADO
	IMPR_MSG UNITEC 
	CALL SALTO_DE_LINEA 
	CALL LINEA_HORIZONTAL 
;IMPRIME TEXTO ARQ
	POSICION 04H,19 
	IMPR_MSG ARQ 
;IMPRIME TEXTO TABLA
	POSICION 06H,31
	IMPR_MSG TABLA
;IMPRIME LA TABLA 
	CALL TABL_F
;IMRPIME EL MENSAJE DIGITE
	POSICION 09H,01H
	IMPR_MSG DIGITE
	CALL SALTO_DE_LINEA
	;CALL LINEA_HORIZONTAL
;IMPRIME LOS MENSAJES DE CONVERSIONES
	CALL LINEA_HORIZONTAL2 
	;CALL LINEA_VERTICAL4
	CALL IMPRIME_4_DECIMAL
;LEE 4 DECIMALES y los imprime
REPITE:
	POSICION 10,37
	CALL LEE_4_DECIMALES
;REALIZA LAS 4 CONVERSIONES
	POSICION 13,05
	MOV SI, 10
	CALL IMPRIME_DECIMAL ;Convierte a DECIMAL
	POSICION 13,20
	MOV SI, 02
	CALL IMPRIME_DECIMAL ;Convierte a BINARIO
	POSICION 13,35
	MOV SI, 16
	CALL IMPRIME_DECIMAL ;Convierte a HEXA
	POSICION 13,60
	MOV SI, 08
	CALL IMPRIME_DECIMAL ;Convierte a OCTAL
	;IMPRIME DESEA OTRO CALCULO 
	POSICION 18, 25
	IMPR_MSG OTRO
	POSICION 19,73
	;CICLO QUE SE REPITE HASTA QUE SE CUMPLA LA CONDICION
INICIO:
	CALL LEE_CARACTER_DECIMAL 
	MOV ELECCION,AL 
	CMP ELECCION, 23H
	JE REPITE ; SI EL CARACTER ES S REPITE LA SELECCION DE NUMERO
	CMP ELECCION, 28H
	JE SALIR ;SI EL CARACTER ES X SALE DEL PROGRAMA
	JMP INICIO
	SALIR:
	POSICION 24,00 ;POSICIONA EL CURSOR FUERA DE LA TABLA
.EXIT

MAIN ENDP 

TABL_F PROC
	PUSH CX
	POSICION 06H, 00H ;NOS POSICIONAMOS EN LA  RENGLON N
	CALL LINEA_HORIZONTAL; CREAMOS LA LINEA_HORIZONTAL
	POSICION 06H, 00H
	IMPR_ESQ E_SUPERIOR_IZQUIERDA
	POSICION 06H, 79
	IMPR_ESQ E_SUPERIOR_DERECHA
	MOV CONT, 7 ;El contador empieza en el renglon N+1
	MOV CX, 15 ;Limite inferior de la tabla
	CICLO_VERTICAL:
		POSICION CONT, 00H ;Se posiciona en el renglon CONT
		CALL LINEA_VERTICAL ;Se imprime LINEA_VERTICAL
		POSICION CONT, 79 ;Se posiciona en CONT pero la ultima columna
		CALL LINEA_VERTICAL ;Se imprime LINEA_VERTICAL
		ADD CONT, 01H ;Se suma uno al contador
		LOOP CICLO_VERTICAL
	;IMPRIME LINEAS INFERIORES
	POSICION CONT, 00H
	CALL LINEA_HORIZONTAL
	POSICION CONT, 00H
	IMPR_ESQ E_INFERIOR_IZQUIERDA
	POSICION CONT, 79
	IMPR_ESQ E_INFERIOR_DERECHA

	;IMPRIME LA LINEA DEBAJO DEL TEXTO TABLA
	CALL LINEA_DELGADA

	

	POP CX
	RET
TABL_F ENDP

IMPRIME_4_DECIMAL PROC
	POSICION 11,05 
	IMPR_MSG DECIMAL ;Imprime el mensaje DECIMAL
	POSICION 11, 20
	IMPR_MSG BINARIO ;Imprime el mensaje BINARIO
	POSICION 11, 35
	IMPR_MSG HEXA    ;Imprime el mensaje HEXA
	POSICION 11, 60
	IMPR_MSG OCTAL   ;Imprime el mensaje OCTAL
	RET
IMPRIME_4_DECIMAL ENDP

END